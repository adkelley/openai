***** gleam loop *****
"data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"role\":\"assistant\",\"content\":\"\",\"refusal\":null},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"1zTDe\"}\n\n""data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\"1\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"u78zHn\"}\n\ndata: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\",\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"U2qi0R\"}\n\n""data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\" \"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"vNEtT1\"}\n\ndata: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\"2\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"RQHoqE\"}\n\n""data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\",\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"mrLaZC\"}\n\ndata: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\" \"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"PT7Cpn\"}\n\n""data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\"3\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"4RUEs7\"}\n\ndata: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\",\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"9EPC64\"}\n\n""data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\" \"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"QN8YTw\"}\n\ndata: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\"4\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"MbzrA9\"}\n\n""data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\",\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"AbpWi8\"}\n\ndata: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\" \"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"vzT9bT\"}\n\n""data: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{\"content\":\"5\"},\"logprobs\":null,\"finish_reason\":null}],\"obfuscation\":\"1QqndE\"}\n\ndata: {\"id\":\"chatcmpl-CDKDYolRVBMB8piRvRpmmOTdRcBXI\",\"object\":\"chat.completion.chunk\",\"created\":1757292016,\"model\":\"gpt-4.1-mini-2025-04-14\",\"service_tier\":\"default\",\"system_fingerprint\":\"fp_4fce0778af\",\"choices\":[{\"index\":0,\"delta\":{},\"logprobs\":null,\"finish_reason\":\"stop\"}],\"obfuscation\":\"r\"}\n\n""data: [DONE]\n\n"
src/openai/chat/completions.gleam: 142
"stream_end"

***** Erlang loop *****
worker
] chunk (345 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "role": "assistant",
      "content": "",
      "refusal": null
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "5eTRB"
}
[worker
] chunk (626 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": "1"
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "ns0MTt"
}
In handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": ","
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "Uay33J"
}
[worker
] chunk (626 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": " "
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "Uoa0Xd"
}
In handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": "2"
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "b4TZcN"
}
[worker
] chunk (626 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": ","
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "lgXgbC"
}
In handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": " "
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "0VML5y"
}
[worker
] chunk (626 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": "3"
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "upuycq"
}
In handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": ","
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "BzPpFI"
}
[worker
] chunk (626 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": " "
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "nilmid"
}
In handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": "4"
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "fun8Zr"
}
[worker
] chunk (626 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": ","
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "dORmK3"
}
In handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": " "
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "6gVPCB"
}
[worker
] chunk (610 bytes)
In take_eventsIn handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {
      "content": "5"
    },
    "logprobs": null,
    "finish_reason": null
  }
],
"obfuscation": "lFB1iP"
}
In handle_eventdata: {
"id": "chatcmpl-CDxG3kLovO23XkbBroiiqwHpz52dY",
"object": "chat.completion.chunk",
"created": 1757442087,
"model": "gpt-4.1-mini-2025-04-14",
"service_tier": "default",
"system_fingerprint": "fp_6d7dcc9a98",
"choices": [
  {
    "index": 0,
    "delta": {},
    "logprobs": null,
    "finish_reason": "stop"
  }
],
"obfuscation": "t"
}
[worker
] chunk (14 bytes)
In take_eventsIn handle_event[worker
] stream_end
[stream complete
]